OpenMW - the completely unofficial reimplementation of Morrowind
================================================================

OpenMW is an open source reimplementation of the Morrowind game
engine. For more information, see README.txt or

    http://openmw.snaptoad.com/




Installation from source
========================


Supported Unix platforms:
-------------------------

The only Unix operating system that has been tested and is known to
work is 32bit Ubuntu Linux 8.04.

FreeBSD works partially, but you have to recompile most of the
dependencies as well. There is a bug in the compiler however, that
breaks exceptions. So if anything goes wrong you probably will not get
any sensible error message.

Linux 64 bit is known NOT to work at the moment.

If you manage to build OpenMW on a platform not listed here, or want
to try, please let me know!



Dependencies:
-------------

Dependencies needed to build OpenMW:

OGRE 1.4.5         (3d engine)
OIS-1.0.0          (input system)
OpenAL             (3d sound system)
libavcodec,
  libavformat      (For MP3 playback)
gcc and g++        (C++ compiler)
GNU make           (build tool for C++ files)
DMD 1.031          (D compiler)
  or GDC 4.1.3     (alternative D compiler)


The above versions are the ones I have tested recently, but other
versions might work. OGRE, OIS and the other libraries have
dependencies of their own, so I recommend using an automated package
tool to install as many of these as possible. On ubuntu, try typing:

sudo apt-get install libogre-dev libavcodec-dev libavformat-dev libois-dev build-essential g++ gdc

If you want to install Ogre, OpenAL or OIS manually, try:

OGRE:     http://ogre3d.org/
OpenAL:   http://openal.org/
OIS:      http://sourceforge.net/projects/wgois/



Choosing a D compiler
---------------------

The above apt-get command installs the GDC compiler. There are
currently two choices for the D compiler, DMD and GDC. DMD is the
"official" compiler and is updated more often, while GDC is a
completely open source frontend to GCC (The GNU compiler.) Both should
work equally well with OpenMW.

If you want to install GDC manually, go to
http://sourceforge.net/projects/dgcc

If you want to use DMD instead, it can be found at:
http://digitalmars.com/d/1.0/dmd-linux.html

Note that the DMD unstable branch (2.000 and up) will NOT currently
work with OpenMW. Use the stable branch (1.x) instead. The latest
version known to work is DMD 1.031, so I recommend that.

Also note that DMD is only available on 32 bit Linux - other operating
systems or architectures will have to use GDC. However GDC might be
unstable on these platforms as well, even if it runs.



Building:
---------

After installing all the dependencies, you can try running make first
to see if the C++ parts compile. You may need to alter the Makefile if
you are using non-standard include paths, etc. If you have DSSS
installed (a D build tool), type:

dsss build

If you do NOT have DSSS, try using make

make all

You might need to edit the Makefile to match your setup. If you are
using DMD instead of GDC, try changing the compiler from "gdmd" to
"dmd" in the Makefile.

If all else fails, you can try the build script:

./build_openmw.sh

This build method is deprecated and only works with gdc.




Configuration
=============

Before you can run OpenMW, you have to help it find the Morrowind data
files. The 'openmw' program needs the files Morrowind.esm and
Morrowind.bsa, and the directories Sound/ and Music/ from your
"Morrowind\Data Files\" directory. By default it expects to find these
in the data/ directory. (This can be changed in openmw.ini)

I recommend creating a symbolic link to your original Morrowind
install. For example, if you have Morrowind installed in:

c:\Program Files\Bethesda Softworks\Morrowind\

and your windows c: drive is mounted on /media/hda1, then run the
following command:

ln -s "/media/hda1/Program Files/Bethesda Softworks/Morrowind/Data Files/" data

Also, if you have OGRE installed in a non-standard directory (ie. NOT
to /usr/lib/OGRE), you have to change the PluginFolder in the file
plugins.cfg.linux.

The first time you run openmw you will be asked to set screen
resolution and other graphics settings. You can bring this dialogue up
at any time with the -oc command line switch. I don't recommend using
fullscreen mode yet, since it might mess up your screen and input
settings if the program crashes.




Running OpenMW
==============

If Azura is with you and all the stars and planets are aligned in your
favor, you should now be able to run OpenMW using the program called
'openmw'.

Write openmw -h to see a list of options.

Running without parameters should bring you into the cave called Sud,
or the last cell loaded. You are in free float mode. Move around with
WASD (or arrow keys), move up and down with left shift and ctrl, exit
with 'q' or escape. Note that if you have a localized (non-English)
version, the cell "Sud" might not exist. I will solve this issue in a
later version.

To load another cell, specify the cell name on the command line. Use
the 'esmtool' program to get a list of cells. Note that you must use
quotation marks "" if the cell name contains spaces or other weird
characters.

Enjoy! ;-)
